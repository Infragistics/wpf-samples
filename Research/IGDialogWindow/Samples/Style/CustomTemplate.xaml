<igFramework:SampleContainer x:Class="IGDialogWindow.Samples.Style.CustomTemplate"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      mc:Ignorable="d" 
      d:DesignHeight="300" d:DesignWidth="300"
      Title="CustomTemplate"
      xmlns:res="clr-namespace:IGDialogWindow.Resources"
      xmlns:converters="clr-namespace:Infragistics.Samples.Shared.Converters;assembly=Infragistics.Samples.Shared"
      xmlns:localConverters="clr-namespace:IGDialogWindow.Converters"
      xmlns:ig="http://schemas.infragistics.com/xaml"
      xmlns:igPrim="http://schemas.infragistics.com/xaml/primitives"
      xmlns:igFramework="clr-namespace:Infragistics.Samples.Framework;assembly=Infragistics.Samples.Shared">

    <igFramework:SampleContainer.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/IGDialogWindow;component/Assets/Global.xaml" />
                
            </ResourceDictionary.MergedDictionaries>
            
            <res:DialogWindowStrings x:Key="DWStrings" />
            <localConverters:WindowStateToVisibilityConverter x:Key="windowStateToVisibilityConverter" />

            <SolidColorBrush x:Key="DarkBrush" Color="White" />

            <SolidColorBrush x:Key="IconBackgroundBrush" Color="{StaticResource Color_002}" />
            <SolidColorBrush x:Key="btnHoverBrush" Color="{StaticResource Color_003}" />
            <SolidColorBrush x:Key="btnPressedBrush" Color="{StaticResource Color_003}" />
            <SolidColorBrush x:Key="ActivatedBorderBrush1" Color="{StaticResource Color_014}" />

            <SolidColorBrush x:Key="DialogWindowBackgroundBrush" Color="{StaticResource Color_002}" />
            <SolidColorBrush x:Key="DialogWindowBorderBrush" Color="{StaticResource Color_014}" />
            <SolidColorBrush x:Key="DialogWindowHeaderForegroundBrush" Color="{StaticResource Color_002}" />
            <SolidColorBrush x:Key="DialogWindowHeaderBackgroundBrush" Color="{StaticResource Color_014}" />
            <SolidColorBrush x:Key="DialogWindowNoActiveResizeBackgroundBrush" Color="{StaticResource Color_009}" />

            <Style x:Key="MinimizeButtonStyle" TargetType="Button">
                <Setter Property="Padding" Value="3"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid>
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">
                                        <VisualState x:Name="Normal"/>
                                        <VisualState x:Name="MouseOver">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Background" Storyboard.TargetProperty="(Border.Background)">
                                                    <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="{StaticResource btnHoverBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Background" Storyboard.TargetProperty="(Border.Background)">
                                                    <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="{StaticResource btnPressedBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Disabled">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="DisabledVisualElement" Storyboard.TargetProperty="Opacity">
                                                    <SplineDoubleKeyFrame KeyTime="0" Value=".55"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="FocusStates">
                                        <VisualState x:Name="Focused">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="FocusVisualElement" Storyboard.TargetProperty="Opacity">
                                                    <SplineDoubleKeyFrame KeyTime="0" Value="1"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Unfocused"/>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <Border x:Name="Background" Background="{StaticResource DarkBrush}" CornerRadius="0,0,0,2">
                                    <Border Margin="1,0,1,1" BorderBrush="#59FFFFFF" BorderThickness="1" CornerRadius="0,0,0,1"/>
                                </Border>
                                <ContentPresenter x:Name="contentPresenter" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}"/>
                                <Rectangle Fill="White" Height="2" Margin="0,0,0,5" VerticalAlignment="Bottom" Width="10" Visibility="Collapsed"/>
                                <Border x:Name="DisabledVisualElement" IsHitTestVisible="false" Opacity="0" Background="#FFFFFFFF" CornerRadius="0,0,0,4"/>
                                <Border x:Name="FocusVisualElement" Margin="2,1,2,2" IsHitTestVisible="false" Opacity="0" BorderBrush="#FF6DBDD1" BorderThickness="1" CornerRadius="0,0,0,2"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="MaxButtonStyle" TargetType="Button">
                <Setter Property="Foreground" Value="#FF000000"/>
                <Setter Property="Padding" Value="3"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid>
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">
                                        <VisualState x:Name="Normal"/>
                                        <VisualState x:Name="MouseOver">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Background" Storyboard.TargetProperty="(Border.Background)">
                                                    <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="{StaticResource btnHoverBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Background" Storyboard.TargetProperty="(Border.Background)">
                                                    <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="{StaticResource btnPressedBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Disabled">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="DisabledVisualElement" Storyboard.TargetProperty="Opacity">
                                                    <SplineDoubleKeyFrame KeyTime="0" Value=".55"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="FocusStates">
                                        <VisualState x:Name="Focused">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="FocusVisualElement" Storyboard.TargetProperty="Opacity">
                                                    <SplineDoubleKeyFrame KeyTime="0" Value="1"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Unfocused"/>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <Border x:Name="Background" Background="{StaticResource DarkBrush}">
                                    <Border Margin="1,0,1,1" BorderBrush="#59FFFFFF" BorderThickness="1"/>
                                </Border>
                                <ContentPresenter x:Name="contentPresenter" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}"/>
                                <Path Fill="White" Stretch="Fill" Height="7" Margin="0,0,0,1" Width="9" Opacity="1" Visibility="Collapsed" Data="M 1,2 C1,2 8,2 8,2 8,2 8,6 8,6 8,6 1,6 1,6 1,6 1,2 1,2 zM 1,0 C1,0 0,0.5 0,1 0,1 0,7 0,7 0,7 9,7 9,7 9,7 9,1 9,1 9,0.5 8,0 8,0 8,0 1,0 1,0 z"/>
                                <Border x:Name="DisabledVisualElement" IsHitTestVisible="false" Opacity="0" Background="#FFFFFFFF"/>
                                <Border x:Name="FocusVisualElement" Margin="2,1,2,2" IsHitTestVisible="false" Opacity="0" BorderBrush="#FF6DBDD1" BorderThickness="1"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="CloseButtonStyle" TargetType="Button">
                <Setter Property="Foreground" Value="#FF000000"/>
                <Setter Property="Padding" Value="3"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid>
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">
                                        <VisualState x:Name="Normal"/>
                                        <VisualState x:Name="MouseOver">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Background" Storyboard.TargetProperty="(Border.Background)">
                                                    <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="{StaticResource btnHoverBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="Background" Storyboard.TargetProperty="(Border.Background)">
                                                    <DiscreteObjectKeyFrame KeyTime="00:00:00" Value="{StaticResource btnPressedBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Disabled">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="DisabledVisualElement" Storyboard.TargetProperty="Opacity">
                                                    <SplineDoubleKeyFrame KeyTime="0" Value=".55"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="FocusStates">
                                        <VisualState x:Name="Focused">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="FocusVisualElement" Storyboard.TargetProperty="Opacity">
                                                    <SplineDoubleKeyFrame KeyTime="0" Value="1"/>
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Unfocused"/>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <Border x:Name="Background" Background="{StaticResource DarkBrush}" CornerRadius="0,0,2,0">
                                    <Border Margin="1,0,1,1" BorderBrush="#59FFFFFF" BorderThickness="1" CornerRadius="0,0,1,0"/>
                                </Border>
                                <ContentPresenter x:Name="contentPresenter" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}"/>
                                <Path x:Name="path" Fill="White" Stretch="Fill" Height="6" Margin="0,0,0,1" Width="7" Opacity="1" Visibility="Collapsed" Data="M 2,6 C2,6 3,6 3,6 3,6 3,5 3,5 3,5 4,5 4,5 4,5 4,6 4,6 4,6 5,6 5,6 5,6 7,6 7,6 7,6 7,5 7,5 7,5 6,5 6,5 6,5 6,4 6,4 6,4 5,4 5,4 5,4 5,2 5,2 5,2 6,2 6,2 6,2 6,1 6,1 6,1 7,1 7,1 7,1 7,0 7,0 7,0 5,0 5,0 5,0 4,0 4,0 4,0 4,1 4,1 4,1 3,1 3,1 3,1 3,0 3,0 3,0 2,0 2,0 2,0 0,0 0,0 0,0 0,1 0,1 0,1 1,1 1,1 1,1 1,2 1,2 1,2 2,2 2,2 2,2 2,4 2,4 2,4 1,4 1,4 1,4 1,5 1,5 1,5 0,5 0,5 0,5 0,6 0,6 0,6 2,6 2,6 z"/>
                                <Border x:Name="DisabledVisualElement" IsHitTestVisible="false" Opacity="0" Background="#FFFFFFFF" CornerRadius="0,0,4,0"/>
                                <Border x:Name="FocusVisualElement" Margin="1" IsHitTestVisible="false" Opacity="0" BorderBrush="#FF6DBDD1" BorderThickness="1" CornerRadius="0,0,3,0"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>


            
            <Style x:Key="XamDialogWindowStyle" TargetType="ig:XamDialogWindow">
                <Setter Property="IsEnabled" Value="true"/>
                <Setter Property="ModalBackground" Value="#FF000000"/>
                <Setter Property="Background" Value="{StaticResource DialogWindowBackgroundBrush}" />
                <Setter Property="BorderBrush" Value="{StaticResource DialogWindowBorderBrush}" />
                <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}" />
                <Setter Property="HeaderBackground" Value="{StaticResource DialogWindowHeaderBackgroundBrush}" />
                <Setter Property="HeaderForeground" Value="{StaticResource DialogWindowHeaderForegroundBrush}" />
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="HorizontalContentAlignment" Value="Left"/>
                <Setter Property="VerticalContentAlignment" Value="Top"/>
                <Setter Property="HorizontalAlignment" Value="Left"/>
                <Setter Property="VerticalAlignment" Value="Top"/>
                <Setter Property="HeaderVerticalContentAlignment" Value="Center"/>
                <Setter Property="MinWidth" Value="70"/>
                <Setter Property="MinHeight" Value="30"/>
                <Setter Property="HeaderIconTemplate">
                    <Setter.Value>
                        <DataTemplate>
                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path Fill="{StaticResource IconBackgroundBrush}" Height="14" Width="14" Data="M 11,0 C13,0 14,1 14,3 14,3 14,7 14,7 14,9 13,10 11,10 11,10 9,10 9,10 9,10 3,14 3,14 3,14 4,10 4,10 4,10 3,10 3,10 1,10 0,9 0,7 0,7 0,3 0,3 0,1 1,0 3,0 3,0 11,0 11,0 z"/>
                            </Grid>
                        </DataTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ig:XamDialogWindow">
                            <Grid x:Name="ContainerContext">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="ActiveStates">
                                        <VisualState x:Name="Inactive">

                                        </VisualState>
                                        <VisualState x:Name="Active">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Border1" Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActivatedBorderBrush1}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="ActiveResizeBorderGrid" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="NoActiveResizeBorderGrid" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="ModalStates">
                                        <VisualState x:Name="NonModal"/>
                                        <VisualState x:Name="Modal"/>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="WindowSatateStates">
                                        <VisualState x:Name="Maximized">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="ContentGrid" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="RestoreGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MaximizeGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizeGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizeRestoreGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizedHeaderContent" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="HeaderContent" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Normal">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="ContentGrid" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MaximizeGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizeGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizeRestoreGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="RestoreGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizedHeaderContent" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="HeaderContent" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Minimized">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="ContentGrid" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizeGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizeRestoreGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MaximizeGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="RestoreGlyph" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="MinimizedHeaderContent" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="HeaderContent" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="HiddenStates">
                                        <VisualState x:Name="Hidden">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Root" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Visible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Root" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="CloseButtonStates">
                                        <VisualState x:Name="CloseButtonIsVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Close" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="CloseButtonIsNotVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Close" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="MaximizeButtonStates">
                                        <VisualState x:Name="MaximizeButtonIsVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Maximize" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="MaximizeButtonIsNotVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Maximize" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="MinimizeButtonStates">
                                        <VisualState x:Name="MinimizeButtonIsVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Minimize" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="MinimizeButtonIsNotVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Minimize" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                    <VisualStateGroup x:Name="HeaderIconStates">
                                        <VisualState x:Name="HeaderIconIsNotVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="SmallImage" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Collapsed</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="HeaderIconIsVisible">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="SmallImage" Storyboard.TargetProperty="Visibility">
                                                    <DiscreteObjectKeyFrame KeyTime="0">
                                                        <DiscreteObjectKeyFrame.Value>
                                                            <Visibility>Visible</Visibility>
                                                        </DiscreteObjectKeyFrame.Value>
                                                    </DiscreteObjectKeyFrame>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <igPrim:DialogRootPanel x:Name="Root">
                                    <Grid x:Name="BorderGrid">
                                        <Border x:Name="Border1" BorderBrush="{TemplateBinding BorderBrush}" Background="{StaticResource DialogWindowBorderBrush}"  BorderThickness="1,1,1,1" CornerRadius="5,5,0,0"/>
                                        <Grid x:Name="ActiveResizeBorderGrid" Margin="0" Background="{x:Null}">
                                            <Border x:Name="ActiveResizeBorder" Margin="1,1,1,1" Opacity="0.65" CornerRadius="4,4,0,0"/>
                                        </Grid>
                                        <Grid x:Name="NoActiveResizeBorderGrid" Margin="0" Background="{x:Null}" Visibility="Collapsed" >
                                            <Border x:Name="NoActiveResizeBorder" Margin="1,1,1,1" Opacity="0.30" Background="{StaticResource DialogWindowNoActiveResizeBackgroundBrush}" CornerRadius="4,4,0,0"/>
                                        </Grid>
                                    </Grid>
                                    <ContentControl x:Name="MaximizedContent" Visibility="Visible" HorizontalContentAlignment="Stretch" IsTabStop="False" VerticalContentAlignment="Stretch">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" MinHeight="26"/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <Grid x:Name="ContentGrid" Margin="6,0,6,6" Grid.Row="1">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Border BorderBrush="#FFFFFFFF" BorderThickness="1" CornerRadius="1"/>
                                                <Border Margin="1" Background="{TemplateBinding Background}" BorderBrush="{StaticResource DarkBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="0.1">
                                                    <ContentPresenter x:Name="Content" Cursor="{TemplateBinding Cursor}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}"/>
                                                </Border>
                                            </Grid>
                                            <Border x:Name="HeaderArea" Margin="1,1,1,0" Grid.Column="1" Background="{TemplateBinding HeaderBackground}" CornerRadius="5,5,0,0">
                                                <Grid x:Name="WindowHeader" Margin="1,1,105,0" VerticalAlignment="Center">
                                                    <Grid HorizontalAlignment="Stretch">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <ContentControl x:Name="SmallImage" Margin="5,0,0,0" MaxHeight="16" MaxWidth="16" MinHeight="16" MinWidth="16" VerticalAlignment="Center" Visibility="Visible" IsTabStop="False" ContentTemplate="{TemplateBinding HeaderIconTemplate}" Grid.Column="0"/>
                                                        <ContentControl x:Name="HeaderContent" HorizontalAlignment="Stretch" Margin="5,0,0,0" HorizontalContentAlignment="{TemplateBinding HeaderHorizontalContentAlignment}" IsTabStop="False" VerticalContentAlignment="{TemplateBinding HeaderVerticalContentAlignment}" Content="{TemplateBinding Header}" ContentTemplate="{TemplateBinding HeaderTemplate}" Grid.Column="2" Foreground="White"/>
                                                        <ContentControl x:Name="MinimizedHeaderContent" HorizontalAlignment="Stretch" Margin="5,0,0,0" Visibility="Collapsed" Foreground="{TemplateBinding HeaderForeground}" HorizontalContentAlignment="{TemplateBinding HeaderHorizontalContentAlignment}" IsTabStop="False" VerticalContentAlignment="{TemplateBinding HeaderVerticalContentAlignment}" Content="{TemplateBinding Header}" ContentTemplate="{TemplateBinding MinimizedHeaderTemplate}" Grid.Column="2"/>
                                                    </Grid>
                                                </Grid>
                                            </Border>
                                        </Grid>
                                    </ContentControl>
                                    <Border x:Name="Resize" BorderBrush="Transparent" BorderThickness="7"/>
                                    <Border HorizontalAlignment="Right" Margin="0,1,7,0" VerticalAlignment="Top" BorderBrush="#A5FFFFFF" BorderThickness="1,0,1,1" CornerRadius="0,0,3,3">
                                        <StackPanel Orientation="Horizontal">
                                            <Button x:Name="Minimize" Height="17" Margin="0,0,-1,0" Style="{StaticResource MinimizeButtonStyle}" Width="26" IsTabStop="False">
                                                <ig:Commanding.Command>
                                                    <ig:XamDialogWindowCommandSource EventName="Click" CommandType="ToggleMinimize"/>
                                                </ig:Commanding.Command>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <Rectangle x:Name="MinimizeGlyph" Fill="#E4FFFFFF" Stroke="#FF535666" StrokeThickness="1" RadiusX="1" RadiusY="1" Height="5" HorizontalAlignment="Center" Margin="0,5,0,0" VerticalAlignment="Center" Width="12"/>
                                                    <Grid x:Name="MinimizeRestoreGlyph" Height="12" Margin="0,0,0,0" Width="12" Visibility="Collapsed">
                                                        <Path Fill="#E4FFFFFF" Stretch="Fill" Stroke="#FF535666" HorizontalAlignment="Stretch" Margin="0,2,2,0" VerticalAlignment="Stretch" Data="M0.90909094,0.5 L9.090909,0.5 C9.316843,0.5 9.5,0.72385764 9.5,1 L9.5,9 C9.5,9.2761421 9.316843,9.5 9.090909,9.5 L0.90909094,9.5 C0.68315625,9.5 0.5,9.2761421 0.5,9 L0.5,1 C0.5,0.72385764 0.68315625,0.5 0.90909094,0.5 z"/>
                                                        <Path Fill="#E4FFFFFF" Stretch="Fill" Stroke="#FF454651" Height="10" HorizontalAlignment="Right" Margin="0,0,0,0" VerticalAlignment="Top" Width="10" Data="M0.90909088,0.5 L9.090909,0.5 C9.316843,0.5 9.5,0.72385764 9.5,1 L9.5,9 C9.5,9.2761421 9.316843,9.5 9.090909,9.5 L7.5,9.5 L7.5,3 C7.5,2.7238576 7.316843,2.5 7.090909,2.5 L0.5,2.5 L0.5,1 C0.49999994,0.72385764 0.68315619,0.5 0.90909088,0.5 z"/>
                                                        <Path Fill="#E4FFFFFF" Stretch="Fill" Stroke="#FF454651" Height="4.062" HorizontalAlignment="Right" Margin="0,4.9689998626709,5,0" VerticalAlignment="Top" Width="4" Data="M0.5,0.5 L3.5000002,0.5 L3.5000002,3.5619998 L0.5,3.5619998 L0.5,0.5 z"/>
                                                    </Grid>
                                                </Grid>
                                            </Button>
                                            <Button x:Name="Maximize" Height="17" Margin="0,0,-1,0" Style="{StaticResource MaxButtonStyle}" Width="26" IsTabStop="False">
                                                <ig:Commanding.Command>
                                                    <ig:XamDialogWindowCommandSource EventName="Click" CommandType="ToggleMaximize"/>
                                                </ig:Commanding.Command>
                                                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <Path x:Name="MaximizeGlyph" Fill="#E4FFFFFF" Stretch="Fill" Stroke="#FF535666" Height="10" Width="12" Data="M3.4060001,3.5940001 L3.4060001,6.4060001 L8.5939999,6.4060001 L8.5939999,3.5940001 L3.4060001,3.5940001 z M1,0.5 L11,0.5 C11.276142,0.5 11.5,0.72385764 11.5,1 L11.5,9 C11.5,9.2761421 11.276142,9.5 11,9.5 L1,9.5 C0.72385764,9.5 0.5,9.2761421 0.5,9 L0.5,1 C0.5,0.72385764 0.72385764,0.5 1,0.5 z"/>
                                                    <Grid x:Name="RestoreGlyph" Height="12" Margin="0,0,0,0" Width="12" Visibility="Collapsed">
                                                        <Path Fill="#E4FFFFFF" Stretch="Fill" Stroke="#FF454651" HorizontalAlignment="Stretch" Margin="0,2,2,0" VerticalAlignment="Stretch" Data="M0.90909094,0.5 L9.090909,0.5 C9.316843,0.5 9.5,0.72385764 9.5,1 L9.5,9 C9.5,9.2761421 9.316843,9.5 9.090909,9.5 L0.90909094,9.5 C0.68315625,9.5 0.5,9.2761421 0.5,9 L0.5,1 C0.5,0.72385764 0.68315625,0.5 0.90909094,0.5 z"/>
                                                        <Path Fill="#E4FFFFFF" Stretch="Fill" Stroke="#FF454651" Height="10" HorizontalAlignment="Right" Margin="0,0,0,0" VerticalAlignment="Top" Width="10" Data="M0.90909088,0.5 L9.090909,0.5 C9.316843,0.5 9.5,0.72385764 9.5,1 L9.5,9 C9.5,9.2761421 9.316843,9.5 9.090909,9.5 L7.5,9.5 L7.5,3 C7.5,2.7238576 7.316843,2.5 7.090909,2.5 L0.5,2.5 L0.5,1 C0.49999994,0.72385764 0.68315619,0.5 0.90909088,0.5 z"/>
                                                        <Path Fill="#E4FFFFFF" Stretch="Fill" Stroke="#FF454651" Height="4.062" HorizontalAlignment="Right" Margin="0,4.9689998626709,5,0" VerticalAlignment="Top" Width="4" Data="M0.5,0.5 L3.5000002,0.5 L3.5000002,3.5619998 L0.5,3.5619998 L0.5,0.5 z"/>
                                                    </Grid>
                                                </Grid>
                                            </Button>
                                            <Button x:Name="Close" Height="17" Style="{StaticResource CloseButtonStyle}" Width="43" IsTabStop="False">
                                                <ig:Commanding.Command>
                                                    <ig:XamDialogWindowCommandSource EventName="Click" CommandType="Close"/>
                                                </ig:Commanding.Command>
                                                <Path Fill="#E4FFFFFF" Stretch="Fill" Stroke="#FF535666" Height="10" HorizontalAlignment="Center" VerticalAlignment="Center" Width="12" Data="M0.5,0.5 L4.5178828,0.5 L6.0620003,3.125 L7.4936447,0.5 L11.5,0.5 L11.5,1.5476431 L8.7425003,6.1201854 L11.5,10.359666 L11.5,11.5 L7.4941902,11.5 L6.0620003,8.8740005 L4.5172949,11.5 L0.5,11.5 L0.5,10.43379 L3.3059995,6.1201582 L0.5,1.4676378 L0.5,0.5 z"/>
                                            </Button>
                                        </StackPanel>
                                    </Border>
                                </igPrim:DialogRootPanel>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Foreground" Value="White"/>
            </Style>

        </ResourceDictionary>
    </igFramework:SampleContainer.Resources>

    <Grid x:Name="LayoutRoot">
        <Grid x:Name="windowContainer">
            <!-- #BEGIN SNIPPET# -->
            <ig:XamDialogWindow
                x:Name="xamWindow"
                Style="{StaticResource XamDialogWindowStyle}"
                Header="{Binding Source={StaticResource DWStrings}, Path=XDW_CustomStyledWindow}"
                StartupPosition="Center" Width="350" Height="200" />
            <!-- #END SNIPPET# -->
            
            <Button
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Padding="5"
                Content="{Binding Source={StaticResource DWStrings}, Path=XDW_LaunchWindow}"
                Click="Button_Click"
                Visibility="{Binding WindowState, ElementName=xamWindow, Converter={StaticResource windowStateToVisibilityConverter}}"
            />
        </Grid>
    </Grid>
</igFramework:SampleContainer>
